{% extends 'admin/base_admin.twig' %}

{% block content %}
    <h2 class="header center black-text" style="font-family: 'Merriweather', serif; text-shadow: 1px 1px 2px #4e4e4e;">Edit "{{ category.title }}"</h2>
    <div class="row">
        <div class="col s12 z-depth-3 card-panel">
            <form action="{{ path_for('category.edit', { 'id': category.id, 'path': path }) }}" method="post" autocomplete="off">
                <div class="row">
                    <div class="input-field col s12 l6">
                        <input
                            type="text"
                            name="category_title_sv"
                            id="category_title_sv"
                            class="validate{{ validation_errors.category_title_sv ? "
                            invalid" : "
                            " }}"
                            {% if old_input.category_title_sv is not empty %}
                            value="{{old_input.category_title_sv}}"
                            {% else %}
                            value="{{ category.title}}"
                            {% endif %}>
                        <label for="category_title_sv" data-error="{{ validation_errors.category_title_sv ? validation_errors.category_title_sv | first : " "  }}">Title (Swedish)</label>
                    </div>
                    <div class="input-field col s12 l6">
                        <input
                            type="text"
                            name="category_title_en"
                            id="category_title_en"
                            class="validate{{ validation_errors.category_title_en ? "
                            invalid" : "
                            " }}"
                            {% if old_input.category_title_en is not empty %}
                            value="{{old_input.category_title_en}}"
                            {% else %}
                            value="{{ category.title_en}}"
                            {% endif %}>
                        <label for="category_title_en" data-error="{{ validation_errors.category_title_en ? validation_errors.category_title_en | first : " "  }}">Title (English)</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <label for="category_desc_sv" data-error="{{ validation_errors.category_desc_sv ? validation_errors.category_desc_sv | first : " "  }}" data-translatable>Description (Swedish)</label>
                        <textarea id="category_desc_sv" name="category_desc_sv" class="materialize-textarea" maxlength="511">{% if old_input.category_desc_sv is not empty %}{{old_input.category_desc_sv}}{% else %}{{ category.description}}{% endif %}</textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <label for="category_desc_en" data-error="{{ validation_errors.category_desc_en ? validation_errors.category_desc_en | first : " "  }}" data-translatable>Description (English)</label>
                        <textarea id="category_desc_en" name="category_desc_en" class="materialize-textarea" maxlength="511">{% if old_input.category_desc_en is not empty %}{{old_input.category_desc_en}}{% else %}{{ category.description_en}}{% endif %}</textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 l2">
                        <input type="text" name="category_order" id="category_order" class="validate{{ validation_errors.category_order ? " invalid" : " " }}" {% if old_input.category_order is not empty %} value="{{old_input.category_order}}" {% else %} value="{{ category.order_num }}" {% endif %}>
                        <label for="category_order" data-error="{{ validation_errors.category_order ? validation_errors.category_order | first : " "  }}">Position</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <div class="input-field">
                            <button type="submit" class="btn waves-effect waves-light blue darken-2">
                                Update<i class="material-icons right">send</i>
                            </button>
                        </div>
                    </div>
                </div>
                <input type="hidden" name="category_id" value="{{ category.id }}">
                <input type="hidden" name="path" value="{{ path }}">
                {{ csrf.field | raw }}
            </form>
            <form action="{{ path_for('category.delete') }}" method="post">
                <div class="row">
                    <div class="col s12">
                        <div class="input-field">
                            <button type="submit" class="btn waves-effect waves-light red darken-2">
                                Delete<i class="material-icons right">delete</i>
                            </button>
                        </div>
                    </div>
                    <input type="hidden" name="category_id" value="{{ category.id }}">
                    <input type="hidden" name="path" value="{{ path }}">
                </div>
                {{ csrf.field | raw }}
            </form>
        </div>

    </div>
{% endblock %}

{% extends 'admin/base_admin.twig' %}

{% block content %}
    <h2 class="header center black-text" style="font-family: 'Merriweather', serif; text-shadow: 1px 1px 2px #4e4e4e;">Information</h2>

    <div class="row">
        <div class="col s12 z-depth-3 card-panel">
            <form action="{{ path_for('restaurant.info') }}" method="post" autocomplete="off">
                <div class="row">
                    <div class="input-field col s12 l6">
                        <input type="text" name="food_type" id="food_type" class="validate{{ validation_errors.food_type ? " invalid" : " " }}" {% if old_input.food_type is not empty %} value="{{old_input.food_type}}" {% else %} value="{{data.food_type}}" {% endif %}>
                        <label for="food_type" data-error="{{ validation_errors.food_type ? validation_errors.food_type | first : " "  }}">Food type (Swedish)</label>
                    </div>
                    <div class="input-field col s12 l6">
                        <input
                            type="text"
                            name="food_type_en"
                            id="food_type_en"
                            class="validate{{ validation_errors.food_type_en ? "
                            invalid" : "
                            " }}"
                            {% if old_input.food_type_en is not empty %}
                            value="{{old_input.food_type_en}}"
                            {% else %}
                            value="{{data.food_type_en}}"
                            {% endif %}>
                        <label for="food_type_en" data-error="{{ validation_errors.food_type_en ? validation_errors.food_type_en | first : " "  }}">Food type (English)</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 l6">
                        <input
                            type="text"
                            name="restaurant_type"
                            id="restaurant_type"
                            class="validate{{ validation_errors.restaurant_type ? "
                            invalid" : "
                            " }}"
                            {% if old_input.restaurant_type is not empty %}
                            value="{{old_input.restaurant_type}}"
                            {% else %}
                            value="{{data.restaurant_type}}"
                            {% endif %}>
                        <label for="restaurant_type" data-error="{{ validation_errors.restaurant_type ? validation_errors.restaurant_type | first : " "  }}">Restaurant type (Swedish)</label>
                    </div>
                    <div class="input-field col s12 l6">
                        <input
                            type="text"
                            name="restaurant_type_en"
                            id="restaurant_type_en"
                            class="validate{{ validation_errors.restaurant_type_en ? "
                            invalid" : "
                            " }}"
                            {% if old_input.restaurant_type_en is not empty %}
                            value="{{old_input.restaurant_type_en}}"
                            {% else %}
                            value="{{data.restaurant_type_en}}"
                            {% endif %}>
                        <label for="restaurant_type_en" data-error="{{ validation_errors.restaurant_type_en ? validation_errors.restaurant_type_en | first : " "  }}">Restaurant type (English)</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 l6">
                        <input type="text" name="other_type" id="other_type" class="validate{{ validation_errors.other_type ? " invalid" : " " }}" {% if old_input.other_type is not empty %} value="{{old_input.other_type}}" {% else %} value="{{data.other_type}}" {% endif %}>
                        <label for="other_type" data-error="{{ validation_errors.other_type ? validation_errors.other_type | first : " "  }}">Other info (Swedish)</label>
                    </div>
                    <div class="input-field col s12 l6">
                        <input
                            type="text"
                            name="other_type_en"
                            id="other_type_en"
                            class="validate{{ validation_errors.other_type_en ? "
                            invalid" : "
                            " }}"
                            {% if old_input.other_type_en is not empty %}
                            value="{{old_input.other_type_en}}"
                            {% else %}
                            value="{{data.other_type_en}}"
                            {% endif %}>
                        <label for="other_type_en" data-error="{{ validation_errors.other_type_en ? validation_errors.other_type_en | first : " "  }}">Other info (English)</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 l6">
                        <input type="text" name="atmosphere" id="atmosphere" class="validate{{ validation_errors.atmosphere ? " invalid" : " " }}" {% if old_input.atmosphere is not empty %} value="{{old_input.atmosphere}}" {% else %} value="{{data.atmosphere}}" {% endif %}>
                        <label for="atmosphere" data-error="{{ validation_errors.atmosphere ? validation_errors.atmosphere | first : " "  }}">Atmosphere (Swedish)</label>
                    </div>
                    <div class="input-field col s12 l6">
                        <input
                            type="text"
                            name="atmosphere_en"
                            id="atmosphere_en"
                            class="validate{{ validation_errors.atmosphere_en ? "
                            invalid" : "
                            " }}"
                            {% if old_input.atmosphere_en is not empty %}
                            value="{{old_input.atmosphere_en}}"
                            {% else %}
                            value="{{data.atmosphere_en}}"
                            {% endif %}>
                        <label for="atmosphere_en" data-error="{{ validation_errors.atmosphere_en ? validation_errors.atmosphere_en | first : " "  }}">Atmosphere (English)</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 l6">
                        <input type="text" name="payment" id="payment" class="validate{{ validation_errors.payment ? " invalid" : " " }}" {% if old_input.payment is not empty %} value="{{old_input.payment}}" {% else %} value="{{data.payment}}" {% endif %}>
                        <label for="payment" data-error="{{ validation_errors.payment ? validation_errors.payment | first : " "  }}">Paymnet (Swedish)</label>
                    </div>
                    <div class="input-field col s12 l6">
                        <input type="text" name="payment_en" id="payment_en" class="validate{{ validation_errors.payment_en ? " invalid" : " " }}" {% if old_input.payment_en is not empty %} value="{{old_input.payment_en}}" {% else %} value="{{data.payment_en}}" {% endif %}>
                        <label for="payment_en" data-error="{{ validation_errors.payment_en ? validation_errors.payment_en | first : " "  }}">Paymnet (English)</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 l6">
                        <input type="text" name="services" id="services" class="validate{{ validation_errors.services ? " invalid" : " " }}" {% if old_input.services is not empty %} value="{{old_input.services}}" {% else %} value="{{data.services}}" {% endif %}>
                        <label for="services" data-error="{{ validation_errors.services ? validation_errors.services | first : " "  }}">Services (Swedish)</label>
                    </div>
                    <div class="input-field col s12 l6">
                        <input
                            type="text"
                            name="services_en"
                            id="services_en"
                            class="validate{{ validation_errors.services_en ? "
                            invalid" : "
                            " }}"
                            {% if old_input.services_en is not empty %}
                            value="{{old_input.services_en}}"
                            {% else %}
                            value="{{data.services_en}}"
                            {% endif %}>
                        <label for="services_en" data-error="{{ validation_errors.services_en ? validation_errors.services_en | first : " "  }}">Services (English)</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 l2">
                        <input type="text" name="seats" id="seats" class="validate{{ validation_errors.seats ? " invalid" : " " }}" {% if old_input.seats is not empty %} value="{{old_input.seats}}" {% else %} value="{{data.seats}}" {% endif %}>
                        <label for="seats" data-error="{{ validation_errors.seats ? validation_errors.seats | first : " "  }}">Seats</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <button type="submit" class="btn waves-effect waves-light">
                            Update<i class="material-icons right">send</i>
                        </button>
                    </div>
                </div>
                {{ csrf.field | raw }}
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col s12 l6 push-l3 z-depth-2 card-panel">
            <h3 class="header center black-text" style="font-family: 'Merriweather', serif; text-shadow: 1px 1px 2px #4e4e4e;">Add new Image to Slideshow</h3>
            <form action="{{ path_for('slideshow.new') }}" method="post" autocomplete="off">
                <div class="row">
                    <div class="input-field col s12">
                        <input type="text" name="image_src" id="image_src" class="validate{{ validation_errors.image_src ? " invalid" : " " }}" value="{{old_input.image_src}}">
                        <label for="image_src" data-error="{{ validation_errors.image_src ? validation_errors.image_src | first : " "  }}">Path to image</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <label for="image_description" data-error="{{ validation_errors.image_description ? validation_errors.image_description | first : " "  }}">Description (Optional)</label>
                        <textarea id="image_description" name="image_description" class="materialize-textarea" maxlength="511">{{old_input.image_description }}</textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <button type="submit" class="btn waves-effect waves-light">
                            Create<i class="material-icons right">send</i>
                        </button>
                    </div>
                </div>
                {{ csrf.field | raw }}
            </form>
        </div>
    </div>
    {% set slideLen = slideshow | length %}
    {% for image in slideshow %}
        {% if loop.index0 == 0 or loop.index0 % 2 == 0 %}
            {{ '<div class="row">' }}
            {% if (slideLen % 2 == 1 and loop.index0 == (slideLen - 1)) %}
                <div class="col s12 l6 push-l3 card-panel z-depth-1">
                    {% include 'partials/admin_slideshow_edit.twig' %}</div>
                {{ '</div>'}}
            {% else %}
                <div class="col s12 l5 card-panel z-depth-1">{% include 'partials/admin_slideshow_edit.twig' %}</div>
            {% endif %}
        {% else %}
            <div class="col s12 l5 push-l2 card-panel z-depth-1">
                {% include 'partials/admin_slideshow_edit.twig' %}</div>
            {{ '</div>'}}
        {% endif %}
    {% endfor %}
{% endblock %}
